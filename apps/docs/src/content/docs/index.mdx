---
title: useFlow
description: Type-safe, declarative multi-step flows for React applications with built-in persistence
template: splash
hero:
  tagline: Build multi-step flows without the complexity.
  actions:
    - text: Get Started
      link: /getting-started/quick-start
      icon: right-arrow
      variant: primary
    - text: Live Demos
      link: https://demo.useflow.sh
      icon: rocket
      variant: secondary
    - text: View on GitHub
      link: https://github.com/useflow-sh/useflow
      icon: external
      variant: minimal
---

import { Card, CardGrid, Steps, Code, Tabs, TabItem, LinkCard } from "@astrojs/starlight/components";

## Focus on your UI, not navigation logic.

<CardGrid stagger>
  <Card title="Declarative" icon="document">
    Define your flow in one place. Navigation logic lives in your flow config, not scattered across components.
  </Card>
  <Card title="Built-in Persistence" icon="seti:db">
    Two lines of code. Users resume exactly where they left off.
  </Card>
  <Card title="Type-Safe" icon="seti:typescript">
    Full TypeScript support. Autocomplete for step names, compile-time navigation errors.
  </Card>
  <Card title="Lightweight" icon="rocket">
    Under 5KB gzipped. Zero dependencies. Just React.
  </Card>
</CardGrid>

## See it in action

Build a complete onboarding flow with conditional navigation in 3 simple steps:

<Steps>

1. ### Define your flow with navigation logic

   ```tsx {14, 20, 23-26}
   import { defineFlow } from "@useflow/react";

   type OnboardingContext = {
     email?: string;
     accountType?: "business" | "personal";
     company?: string;
   };

   const onboardingFlow = defineFlow({
     id: "onboarding",
     start: "welcome",
     steps: {
       welcome: { next: "userType" },
       userType: { next: ["business", "personal"] }, // üí° Define all possible next steps
       business: { next: "complete" },
       personal: { next: "complete" },
       complete: {}
     }
      // üí° Set the context type
   }).with<OnboardingContext>((steps) => ({
     resolvers: {
       // üí° Type-safe: can only return steps in next array
       userType: (ctx) => 
         ctx.accountType === "business" 
           ? steps.business  // ‚úÖ Valid
           : steps.personal  // ‚úÖ Valid
          // steps.complete would be a TypeScript error ‚ùå
     }
   }));
   ```

2. ### Create your step components

   ```tsx {4, 7, 16-17, 20-21, 29}
   import { onboardingFlow } from "./flow";

   function UserTypeStep() {
     const { context, setContext, next } = onboardingFlow.useFlowState({ step: "userType" });
     
     const handleSubmit = () => {
       next(); // ‚úÖ Automatically navigates based on accountType
     };

     return (
       <div>
         <h1>Get Started</h1>
         <input
           type="email"
           placeholder="Email address"
           value={context.email || ""} // üí° TypeScript knows this is a string
           onChange={(e) => setContext({ email: e.target.value })}
         />
         <select 
           value={context.accountType || ""} // üí° TypeScript knows this is a string
           onChange={(e) => setContext({ accountType: e.target.value })}
         >
           <option value="">Choose account type</option>
           <option value="personal">Personal</option>
           <option value="business">Business</option>
         </select>
         <button 
           onClick={handleSubmit}
           disabled={!context.email || !context.accountType}
         >
           Continue
         </button>
       </div>
     );
   }
   ```

   ```tsx {4, 12-13, 15-16}
   import { onboardingFlow } from "./flow";

   function BusinessStep() {
     const { context, setContext, next, back } = onboardingFlow.useFlowState({ step: "business" });
     
     return (
       <div>
         <h1>Business Details</h1>
         <p>Welcome {context.email}!</p>
         <input
           placeholder="Company name"
           value={context.company || ""} // üí° TypeScript knows this is a string
           onChange={(e) => setContext({ company: e.target.value })}
         />
         <button onClick={back}>Back</button> 
         <button onClick={next}>Continue</button> 
       </div>
     );
   }
   ```
   ```tsx {8-12}
   import { onboardingFlow } from "./flow";

   function CompleteStep() {
     const { context } = onboardingFlow.useFlowState({ step: "complete" });

     return (
      <div>
        <h1>All Set, {context.name}!</h1>
        <p>Email: {context.email}</p>
        {context.userType === "business" && (
          <p>Company: {context.business?.companyName}</p>
        )}
      </div>
    );
   }
   ```

3. ### Map your steps to components & add persistence

   ```tsx {7-9, 11-18}
   import { Flow, createLocalStorageStore, createPersister } from "@useflow/react";
   import { onboardingFlow } from "./flow";

   function App() {
     return (
       <Flow 
         flow={onboardingFlow} 
         // ‚úÖ Add persistence in 1 line!
         persister={createPersister({ store: createLocalStorageStore() })} 
       >
         {({ renderStep }) => renderStep({
           // üí° TypeScript enforces all steps must be provided - can't miss any!
           welcome: <WelcomeStep />,
           userType: <UserTypeStep />,
           business: <BusinessStep />,
           personal: <PersonalStep />,
           complete: <CompleteStep />
         })}
       </Flow>
     );
   }
   ```

</Steps>

**That's it!** Users can now close their browser and return exactly where they left off.
No manual state management, no confusing navigation logic scattered across components.

## Perfect for

- üöÄ **Onboarding flows** - User registration with multiple steps
- üõí **Checkout processes** - Cart, shipping, payment, confirmation  
- üìù **Surveys & forms** - Long questionnaires users can resume
- ‚öôÔ∏è **Configuration wizards** - Complex setup flows broken into simpler steps

## Coming soon

<CardGrid>
  <Card title="Remote Configuration" icon="setting">
    Modify flows without redeploying.
  </Card>
  <Card title="A/B Testing" icon="random">
    Test flow variants. See which path converts best.
  </Card>
  <Card title="Drop-in Analytics" icon="seti:default">
    Track completion rates and drop-offs with a few lines of code.
  </Card>
</CardGrid>

## Get started

<CardGrid>
  <LinkCard
    title="Quick Start"
    description="Build your first flow. Ship a working flow in minutes"
    href="/getting-started/quick-start"
  />
  <LinkCard
    title="Why useFlow?"
    description="Learn more about benefits and comparisons"
    href="/getting-started/why-useflow"
  />
  <LinkCard
    title="Live Demos"
    description="Try interactive examples in your browser"
    href="https://examples.useflow.sh"
  />
  <LinkCard
    title="Recipes"
    description="Browse recipes with production-ready patterns"
    href="/recipes/"
  />
  <LinkCard
    title="API Reference"
    description="View the complete API reference docs"
    href="/api-reference/define-flow"
  />
</CardGrid>
